<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Geoffrey M. Poore" />
  <title>PythonTeX Gallery</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {  background-color: #f8f8f8; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ef2929; } /* Alert */
    code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #c4a000; } /* Attribute */
    code span.bn { color: #0000cf; } /* BaseN */
    code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4e9a06; } /* Char */
    code span.cn { color: #000000; } /* Constant */
    code span.co { color: #8f5902; font-style: italic; } /* Comment */
    code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
    code span.dt { color: #204a87; } /* DataType */
    code span.dv { color: #0000cf; } /* DecVal */
    code span.er { color: #a40000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #0000cf; } /* Float */
    code span.fu { color: #000000; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
    code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
    code span.ot { color: #8f5902; } /* Other */
    code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
    code span.sc { color: #000000; } /* SpecialChar */
    code span.ss { color: #4e9a06; } /* SpecialString */
    code span.st { color: #4e9a06; } /* String */
    code span.va { color: #000000; } /* Variable */
    code span.vs { color: #4e9a06; } /* VerbatimString */
    code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">PythonTeX Gallery</h1>
<p class="author">Geoffrey M. Poore</p>
</header>
<h1 id="general-python-interaction">General Python interaction</h1>
<p>We can typeset code that is passed to Python, and bring back the results.</p>
<p>This can be simple. For example, <code>print('Python says hi!')</code> returns the following:</p>
<blockquote>
<p>Python says hi!</p>
</blockquote>
<p>Or we could access the printed content verbatim (it might contain special characters):</p>
<blockquote>
<p><code>Python says hi!</code></p>
</blockquote>
<p>Python interaction can also be more complex. <code>print(str(2**2**2) + r'\endinput')</code> returns 16. In this case, the printed result includes LaTeX code, which is correctly interpreted by LaTeX to ensure that there is not an extra space after the 16. Printed output is saved to a file and brought back in via <code>\input</code>, and the <code>\endinput</code> command stops input immediately, before LaTeX gets to the end of the line and inserts a space character there, after the 16.</p>
<p>Printing works, but as the last example demonstrates, you have to be careful about spacing if you have text immediately after the printed content. In that case, it’s usually best to assemble text within a PythonTeX environment and store the text in a variable. Then you can bring in the text later, using the <code>\py</code> command. The <code>\py</code> command brings in a string representation of its argument. First we create the text.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>mytext <span class="op">=</span> <span class="st">&#39;$1 + 1 = </span><span class="sc">{0}</span><span class="st">$&#39;</span>.<span class="bu">format</span>(<span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span>)</span></code></pre></div>
<p>Then we bring it in: <span class="math inline">\(1 + 1 = 2\)</span>. The <code>\py</code> command can even bring in verbatim content.</p>
<p>We don’t have to typeset the code we’re executing. It can be hidden. And then we can access it later: <strong>This is a message from Python</strong>.</p>
<p>It is also possible to perform variable substitution or string interpolation. The earlier result could be recreated: <span class="math inline">\(1 + 1 = 2\)</span>.</p>
<h1 id="pygments-highlighting">Pygments highlighting</h1>
<p>PythonTeX supports syntax highlighting via Pygments. Any language supported by Pygments can be highlighted. Unicode is supported. Consider this snippet copied and pasted from a Python 3 interactive session. (Using random strings of Unicode for variable names is probably not a good idea, but PythonTeX will happily highlight it for you.)</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> âæéöø <span class="op">=</span> <span class="dv">123</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ßçñðŠ <span class="op">=</span> <span class="dv">456</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> âæéöø <span class="op">+</span> ßçñðŠ</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="dv">579</span></span></code></pre></div>
<p>There is also a Pygments command for inline use: <code>\pygment</code>.</p>
<h1 id="python-console-environment">Python console environment</h1>
<p>PythonTeX includes an environment that emulates a Python interactive session. Commands are entered within the environment, each line is treated as input to an interactive session, and the result is typeset.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">123</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">345</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z <span class="op">=</span> x <span class="op">+</span> y</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="dv">468</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> f(expr):</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>...     <span class="cf">return</span>(expr<span class="op">**</span><span class="dv">4</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>... </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f(x)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="dv">228886641</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;Python says hi from the console!&#39;</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>Python says hi <span class="im">from</span> the console<span class="op">!</span></span></code></pre></div>
<p>It is possible to refer to the values of console variables later on in inline contexts, using the <code>\pycon</code> command. For example, the value of <span class="math inline">\(z\)</span> was <code>468</code>.</p>
<h1 id="basic-sympy-interaction">Basic SymPy interaction</h1>
<p>PythonTeX allows us to perform algebraic manipulations with SymPy and then properly typeset the results.</p>
<p>We create three variables, and define <span class="math inline">\(z\)</span> in terms of the other two.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>var(<span class="st">&#39;x, y, z&#39;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> x <span class="op">+</span> y</span></code></pre></div>
<p>Now we can access what <span class="math inline">\(z\)</span> is equal to:</p>
<p><span class="math display">\[z=x + y\]</span></p>
<p>Many things are possible, including some very nice calculus.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> x<span class="op">**</span><span class="dv">3</span> <span class="op">+</span> cos(x)<span class="op">**</span><span class="dv">5</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> Integral(f, x)</span></code></pre></div>
<p><span class="math display">\[\int \left(x^{3} + \cos^{5}{\left(x \right)}\right)\, dx=\frac{x^{4}}{4} + \frac{\sin^{5}{\left(x \right)}}{5} - \frac{2 \sin^{3}{\left(x \right)}}{3} + \sin{\left(x \right)}\]</span></p>
<p>It’s easy to use arbitrary symbols in equations.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>phi <span class="op">=</span> Symbol(<span class="vs">r&#39;\phi&#39;</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>h <span class="op">=</span> Integral(exp(<span class="op">-</span>phi<span class="op">**</span><span class="dv">2</span>), (phi, <span class="dv">0</span>, oo))</span></code></pre></div>
<p><span class="math display">\[\int\limits_{0}^{\infty} e^{- \phi^{2}}\, d\phi=\frac{\sqrt{\pi}}{2}\]</span></p>
<h1 id="plots-with-matplotlib">Plots with matplotlib</h1>
<p>We can create plots with matplotlib, perfectly matching the plot fonts with the document fonts. No more searching for the code that created a figure!</p>
<p>It is possible to pass page dimensions and similar contextual information from the LaTeX side to the Python side. If you want your figures to be, for example, a particular fraction of the page width, you can pass the value of <code>\textwidth</code> to the Python side, and use it in creating your figures. See <code>\setpythontexcontext</code> in the main documentation for details.</p>
<p>You may want to use matplotlib’s PGF backend when creating plots.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>rc(<span class="st">&#39;text&#39;</span>, usetex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>rc(<span class="st">&#39;font&#39;</span>, family<span class="op">=</span><span class="st">&#39;serif&#39;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>rc(<span class="st">&#39;font&#39;</span>, size<span class="op">=</span><span class="fl">10.0</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>rc(<span class="st">&#39;legend&#39;</span>, fontsize<span class="op">=</span><span class="fl">10.0</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>rc(<span class="st">&#39;font&#39;</span>, weight<span class="op">=</span><span class="st">&#39;normal&#39;</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> linspace(<span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>figure(figsize<span class="op">=</span>(<span class="dv">4</span>, <span class="fl">2.5</span>))</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>plot(x, sin(x), label<span class="op">=</span><span class="st">&#39;$\sin(x)$&#39;</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>xlabel(<span class="vs">r&#39;$x\mathrm{-axis}$&#39;</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>ylabel(<span class="vs">r&#39;$y\mathrm{-axis}$&#39;</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>legend(loc<span class="op">=</span><span class="st">&#39;lower right&#39;</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>savefig(<span class="st">&#39;myplot.png&#39;</span>, bbox_inches<span class="op">=</span><span class="st">&#39;tight&#39;</span>)</span></code></pre></div>
<div class="center">
<p><img src="myplot.png" alt="image" /></p>
</div>
<h1 id="basic-pylab-interaction">Basic pylab interaction</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.integrate <span class="im">import</span> quad</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>myintegral <span class="op">=</span> quad(<span class="kw">lambda</span> x: e<span class="op">**-</span>x<span class="op">**</span><span class="dv">2</span>, <span class="dv">0</span>, inf)[<span class="dv">0</span>]</span></code></pre></div>
<p><span class="math display">\[\int_0^\infty e^{-x^2}\,dx = 0.886226925452758\]</span></p>
<h1 id="an-automated-derivative-and-integral-table">An automated derivative and integral table</h1>
<p>PythonTeX allows some amazing document automation, such as this derivative and integral table. Try typing that by hand, fast!</p>
<div class="sourceCode" id="cb9" data-linenos="" data-startFrom="1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> re <span class="im">import</span> sub</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>var(<span class="st">&#39;x&#39;</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list of functions to include in the table</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>funcs <span class="op">=</span> [<span class="st">&#39;sin(x)&#39;</span>, <span class="st">&#39;cos(x)&#39;</span>, <span class="st">&#39;tan(x)&#39;</span>, </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">&#39;sin(x)**2&#39;</span>, <span class="st">&#39;cos(x)**2&#39;</span>, <span class="st">&#39;tan(x)**2&#39;</span>, </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">&#39;asin(x)&#39;</span>, <span class="st">&#39;acos(x)&#39;</span>, <span class="st">&#39;atan(x)&#39;</span>, </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">&#39;sinh(x)&#39;</span>, <span class="st">&#39;cosh(x)&#39;</span>, <span class="st">&#39;tanh(x)&#39;</span>]</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="vs">r&#39;\begin{align*}&#39;</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> func <span class="kw">in</span> funcs:</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Put in some vertical space when switching to arc and hyperbolic funcs</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> func <span class="op">==</span> <span class="st">&#39;asin(x)&#39;</span> <span class="kw">or</span> func <span class="op">==</span> <span class="st">&#39;sinh(x)&#39;</span>:</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="vs">r&#39;&amp;\\&#39;</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    myderiv <span class="op">=</span> <span class="st">&#39;Derivative(&#39;</span> <span class="op">+</span> func <span class="op">+</span> <span class="st">&#39;, x)&#39;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    myint <span class="op">=</span> <span class="st">&#39;Integral(&#39;</span> <span class="op">+</span> func <span class="op">+</span> <span class="st">&#39;, x)&#39;</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(latex(<span class="bu">eval</span>(myderiv)) <span class="op">+</span> <span class="st">&#39;&amp;=&#39;</span> <span class="op">+</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>            latex(<span class="bu">eval</span>(myderiv <span class="op">+</span> <span class="st">&#39;.doit()&#39;</span>)) <span class="op">+</span> <span class="vs">r&#39;\quad &amp; \quad&#39;</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(latex(<span class="bu">eval</span>(myint)) <span class="op">+</span> <span class="st">&#39;&amp;=&#39;</span> <span class="op">+</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>            latex(<span class="bu">eval</span>(myint<span class="op">+</span><span class="st">&#39;.doit()&#39;</span>)) <span class="op">+</span> <span class="vs">r&#39;\\&#39;</span>)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="vs">r&#39;\end{align*}&#39;</span>)</span></code></pre></div>
<p><span class="math display">\[\begin{aligned}
\frac{d}{d x} \sin{\left(x \right)}&amp;=\cos{\left(x \right)}\quad &amp; \quad
\int \sin{\left(x \right)}\, dx&amp;=- \cos{\left(x \right)}\\
\frac{d}{d x} \cos{\left(x \right)}&amp;=- \sin{\left(x \right)}\quad &amp; \quad
\int \cos{\left(x \right)}\, dx&amp;=\sin{\left(x \right)}\\
\frac{d}{d x} \tan{\left(x \right)}&amp;=\tan^{2}{\left(x \right)} + 1\quad &amp; \quad
\int \tan{\left(x \right)}\, dx&amp;=- \log{\left(\cos{\left(x \right)} \right)}\\
\frac{d}{d x} \sin^{2}{\left(x \right)}&amp;=2 \sin{\left(x \right)} \cos{\left(x \right)}\quad &amp; \quad
\int \sin^{2}{\left(x \right)}\, dx&amp;=\frac{x}{2} - \frac{\sin{\left(x \right)} \cos{\left(x \right)}}{2}\\
\frac{d}{d x} \cos^{2}{\left(x \right)}&amp;=- 2 \sin{\left(x \right)} \cos{\left(x \right)}\quad &amp; \quad
\int \cos^{2}{\left(x \right)}\, dx&amp;=\frac{x}{2} + \frac{\sin{\left(x \right)} \cos{\left(x \right)}}{2}\\
\frac{d}{d x} \tan^{2}{\left(x \right)}&amp;=\left(2 \tan^{2}{\left(x \right)} + 2\right) \tan{\left(x \right)}\quad &amp; \quad
\int \tan^{2}{\left(x \right)}\, dx&amp;=- x + \frac{\sin{\left(x \right)}}{\cos{\left(x \right)}}\\
&amp;\\
\frac{d}{d x} \operatorname{asin}{\left(x \right)}&amp;=\frac{1}{\sqrt{1 - x^{2}}}\quad &amp; \quad
\int \operatorname{asin}{\left(x \right)}\, dx&amp;=x \operatorname{asin}{\left(x \right)} + \sqrt{1 - x^{2}}\\
\frac{d}{d x} \operatorname{acos}{\left(x \right)}&amp;=- \frac{1}{\sqrt{1 - x^{2}}}\quad &amp; \quad
\int \operatorname{acos}{\left(x \right)}\, dx&amp;=x \operatorname{acos}{\left(x \right)} - \sqrt{1 - x^{2}}\\
\frac{d}{d x} \operatorname{atan}{\left(x \right)}&amp;=\frac{1}{x^{2} + 1}\quad &amp; \quad
\int \operatorname{atan}{\left(x \right)}\, dx&amp;=x \operatorname{atan}{\left(x \right)} - \frac{\log{\left(x^{2} + 1 \right)}}{2}\\
&amp;\\
\frac{d}{d x} \sinh{\left(x \right)}&amp;=\cosh{\left(x \right)}\quad &amp; \quad
\int \sinh{\left(x \right)}\, dx&amp;=\cosh{\left(x \right)}\\
\frac{d}{d x} \cosh{\left(x \right)}&amp;=\sinh{\left(x \right)}\quad &amp; \quad
\int \cosh{\left(x \right)}\, dx&amp;=\sinh{\left(x \right)}\\
\frac{d}{d x} \tanh{\left(x \right)}&amp;=1 - \tanh^{2}{\left(x \right)}\quad &amp; \quad
\int \tanh{\left(x \right)}\, dx&amp;=x - \log{\left(\tanh{\left(x \right)} + 1 \right)}\\\end{aligned}\]</span></p>
<h1 id="step-by-step-solutions">Step-by-step solutions</h1>
<p>Using SymPy, it is possible to typeset step-by-step solutions. In this particular case, we also use the <code>mdframed</code> package to place a colored background behind our code.</p>
<div class="sourceCode" id="cb10" data-linenos="" data-startFrom="1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>x, y, z <span class="op">=</span> symbols(<span class="st">&#39;x,y,z&#39;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> Symbol(<span class="st">&#39;f(x,y,z)&#39;</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define limits of integration</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>x_llim <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>x_ulim <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>y_llim <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>y_ulim <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>z_llim <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>z_ulim <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="vs">r&#39;\begin{align*}&#39;</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice how I define f as a symbol, then later as an actual function</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>left <span class="op">=</span> Integral(f, (x, x_llim, x_ulim), (y, y_llim, y_ulim), (z, z_llim, z_ulim))</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> x<span class="op">*</span>y <span class="op">+</span> y<span class="op">*</span>sin(z) <span class="op">+</span> cos(x<span class="op">+</span>y)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>right <span class="op">=</span> Integral(f, (x, x_llim, x_ulim), (y, y_llim, y_ulim), (z, z_llim, z_ulim))</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(latex(left) <span class="op">+</span> <span class="st">&#39;&amp;=&#39;</span> <span class="op">+</span> latex(right) <span class="op">+</span> <span class="vs">r&#39;\\&#39;</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># For each step, I move limits from an outer integral to an inner, evaluated </span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co"># integral until the outer integral is no longer needed</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>right <span class="op">=</span> Integral(Integral(f, (z, z_llim, z_ulim)).doit(), (x, x_llim, x_ulim),</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>                 (y, y_llim, y_ulim))</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;&amp;=&#39;</span> <span class="op">+</span> latex(right) <span class="op">+</span> <span class="vs">r&#39;\\&#39;</span>)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>right <span class="op">=</span> Integral(Integral(f, (z, z_llim, z_ulim), (y, y_llim, y_ulim)).doit(),</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>                 (x, x_llim, x_ulim))</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;&amp;=&#39;</span> <span class="op">+</span> latex(right) <span class="op">+</span> <span class="vs">r&#39;\\&#39;</span>)</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>right <span class="op">=</span> Integral(f, (z, z_llim, z_ulim), (y, y_llim, y_ulim), </span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>                 (x, x_llim, x_ulim)).doit()</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;&amp;=&#39;</span> <span class="op">+</span> latex(right) <span class="op">+</span> <span class="vs">r&#39;\\&#39;</span>)</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;&amp;=&#39;</span> <span class="op">+</span> latex(N(right)) <span class="op">+</span> <span class="vs">r&#39;\\&#39;</span>)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="vs">r&#39;\end{align*}&#39;</span>)</span></code></pre></div>
<p><span class="math display">\[\begin{aligned}
\int\limits_{0}^{4}\int\limits_{0}^{3}\int\limits_{0}^{2} f(x,y,z)\, dx\, dy\, dz&amp;=\int\limits_{0}^{4}\int\limits_{0}^{3}\int\limits_{0}^{2} \left(x y + y \sin{\left(z \right)} + \cos{\left(x + y \right)}\right)\, dx\, dy\, dz\\
&amp;=\int\limits_{0}^{3}\int\limits_{0}^{2} \left(4 x y - y \cos{\left(4 \right)} + y + 4 \cos{\left(x + y \right)}\right)\, dx\, dy\\
&amp;=\int\limits_{0}^{2} \left(18 x - 4 \sin{\left(x \right)} + 4 \sin{\left(x + 3 \right)} - \frac{9 \cos{\left(4 \right)}}{2} + \frac{9}{2}\right)\, dx\\
&amp;=4 \cos{\left(3 \right)} + 4 \cos{\left(2 \right)} - 4 \cos{\left(5 \right)} - 9 \cos{\left(4 \right)} + 41\\
&amp;=40.1235865133293\\\end{aligned}\]</span></p>
<h1 id="including-stderr">Including stderr</h1>
<p>PythonTeX allows code to be typset next to the stderr it produces. This requires the package option <code>makestderr</code>.</p>
<div class="sourceCode" id="cb11" data-linenos="" data-startFrom="1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">123</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">345</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> x <span class="op">+</span> y <span class="op">+</span></span></code></pre></div>
<p>This code causes a syntax error:</p>
<pre><code>  File &quot;py_errorsession_9.py&quot;, line 3
    z = x + y +
              ^
SyntaxError: invalid syntax</code></pre>
<p>The package option <code>stderrfilename</code> allows the file name that appears in the error message to be customized.</p>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>Since PythonTeX runs Python code (and potentially other code) on your computer, documents using PythonTeX have a greater potential for security risks than do standard LaTeX documents. You should only compile PythonTeX documents from sources you trust.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
